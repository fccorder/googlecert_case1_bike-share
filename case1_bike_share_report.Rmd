---
title: 'Case 1: Bike Share'
author: "Fernando Cordero"
date: "10/16/2021"
output:
  html_document: default
  pdf_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


# **Executive summary**

This report describes the analysis of 12 months of rides on bikes owned by Cyclistic, a bike share company based in Chicago, Il. This analysis includes rides started between April 2019 and March 2020, and the objective is to determine potential ways to convert casual riders (customers on single-ride or day-pass plans) into subscribers (customer’s on annual plans) by determining how these two user groups use the Cyclistic system differently.
The analysis finds that subscribers use the system much more frequently during the week, while casual riders complete many more rides during the weekend, and that subscriber’s rides are far shorter in term of duration than casual rider’s rides. This analysis, however, should be treated as an exploratory analysis, and further analysis should be conducted in order to increase the certainty level of the findings discussed in this report, and more information about Cyclistic should be provided to make concrete recommendations.

# **Scenario and statement of purpose**

Cyclistic (or the Company) is a fictitious bike share business operating in Chicago since 2016. Until now, Cyclistic’s business strategy was to increase awareness of the Company and expand the business’ clientele by having multiple payment plans and rental options. Cyclistic’s financial analysis team determined that customers that have an annual plan (subscribers) are more profitable than single-day-pass or single-ride-pass users (casual riders or customers - ‘customer’ is used interchangeably with casual rider it is a single word identifier, that facilitates data wrangling). Cyclistic’s leadership is interested in converting casual riders into subscribers.
This analysis will focus on: (1) determining key differences in the use pattern of the two user groups described above: subscribers and casual riders; (2) determining potential motives for casual riders to become subscribers; and (3) determine potential marketing strategies that can be used to influence casual riders into becoming subscribers.

## **Business Task**
The business task of this analysis is to determine potential ways to convert Cyclistic's clients from casual riders into annual members by exploring differences in the use patterns of these two user groups.

# **The Data**

The dataset used for this project is owned by the city of Chicago, IL., made public and available by Motivate International Inc. (“Motivate”) under this [licence agreement](https://www.divvybikes.com/data-license-agreement).

## **About the data**
As Motivate is the operator of this bike share system and provider of the data, this dataset is considered to be first-hand. This report will treat the data as if it was originated by the fictitious company Cyclistc. 
The raw data provided for this analysis project contained the following information:
Ride_id: containing an unique alphanumeric identifier
Start_time and end_time: timestamps for pickup and drop off times
Station_name and station_id: the pickup and drop off stations names and a numeric id that references a unique station name
User_type: Boolean value, showing if the user of each ride is a casual rider (customer) or a subscriber
The dataset used was stored in files that contained data organized in year-quarters. It was combined, wrangled and cleaned up for analysis using R. It is worth mentioning that while some of the datafiles used contained more variables, however, when these variables were not present in all datafiles, it was ignored.

## Cleaning process
After combining all data sets, the data was cleaned under the following criteria:
Ride_id: Confirmed that all samples are unique, and that the characters are all alphanumeric with no unexpected characters.
Dates: Confirmed that start dates are all within the expected dates (between 4/1/2019 at 00:00:00 AM and 3/31/2020 at 11:59:59 PM) and that all start dates are prior to the corresponding end date; added two columns for ride duration (difference between start time and end time), one calculated in seconds and the other in decimal hours; finally, to make visualizations in R easier, columns were added for the year, month, day of the week, and part of the day (morning, afternoon, evening and night) for both start time and end time.
Stations: Confirmed that all station names unique values refer to only one station id unique value for both start and end stations; delete data points where both the station name and station id for either the start or end is missing, and remove station names that refer HQ, as it is explained in the scenario that these are not real rides, but test performed by Cyclistc’s staff.
User type: Consolidate all tags names for the user type into ‘customer’ and ‘subscriber only.


[This script](https://github.com/fccorder/googlecert_case1_bike-share/blob/master/case1_bike_share_clean_script.R) was used to clean up the data.

# Analysis

```{r setup environment, echo=FALSE, message=FALSE}
# Load packages
library(tidyverse)
library(lubridate)
library(skimr)
library(ggplot2)

# Initialize functions and options
'%!in%' <- Negate('%in%')
options(scipen = 999)
```
## Summary of Analysis
After cleaning the data, the analysis focused on comparing the use patterns of subscribers and casual riders on three main aspects: the number of rides, the duration of rides, and the time of day in which rides happen more often.
During analysis, charts and plots were plotted to identify trends more quickly, alongside descriptive tables showing the numbers represented in the charts for more precise information.

## Use patterns
This chapter presents the charts and figures that describe the use patterns of casual riders and subscribers identified in this analysis and a summary of the findings.

```{r read data, echo=FALSE, message=FALSE}
df <- read_csv('Divvy_Trips_2019Q2_to_2020Q1.csv')
```
